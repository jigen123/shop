{"version":3,"sources":["webpack:///./src/pages/home/index/article-list/article-list.vue","webpack:///./src/pages/home/index/article-list/article-list.vue?8d40","webpack:///./src/pages/home/index/article-list/article-list.vue?6859"],"names":["__webpack_exports__","name","data","page","popupVisible","reloadState","more_state","drgl","methods","getArticleList","arguments","length","undefined","_this","this","callback","reload","$axios","post","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","article_type","then","results","code","list","loading","concat","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","catch","err","article_target","_id","console","log","$router","push","query","id","loadMore","_this2","loadTop","_this3","$refs","loadmore","onTopLoaded","setTimeout","created","components","Loadmore","__WEBPACK_IMPORTED_MODULE_3_mint_ui__","Popup","XHeader","__WEBPACK_IMPORTED_MODULE_4_vux_src_components_x_header_index_vue___default","a","Component","__webpack_require__","ssrContext","module","exports","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","left-options","backText","_v","staticStyle","height","overflow","ref","top-method","distanceIndex","autoFill","topPullText","topDropText","topLoadingText","topDistance","directives","rawName","value","expression","infinite-scroll-disabled","infinite-scroll-distance","_l","item","index","key","on","click","$event","_s","title","views","moment","update_time","format","imgUrl","photo","alt","type","_e","modal","position","model","$$v","staticRenderFns"],"mappings":"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","file":"static/js/58.44b8dfa66da73d07e2bd.js","sourcesContent":["\nimport moment from 'moment';\nimport { Loadmore,Popup,Lazyload } from 'mint-ui'\nimport XHeader from 'vux/src/components/x-header/index.vue'\n\n\nexport default {\nname:\"article-list\",\ndata(){\nreturn {\npage:1,\npopupVisible:false,\nreloadState:1,\nmore_state:1,\ndrgl:[\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n]\n}\n},\nmethods:{\ngetArticleList(page=1,callback,reload){\nthis.$axios.post(\"/api/Article/get_article\",`data=${JSON.stringify({\narticle_type:'EASYARTICLE',\npage:page\n})}`).then(results=>{\nif(results.code==200){\ncallback&&callback();\nif(results.data.list.length<1){\nthis.more_state = 2;\nthis.loading = true;\n}\nif(reload){\nthis.drgl = results.data.list;\nthis.reloadState = 1;\nreturn false;\n}\nthis.drgl = [...this.drgl,...results.data.list];\n\n\n}else{\nthis.reloadState = 2;\n}\n}).catch(err=>{\nthis.reloadState = 3;\n})\n},\narticle_target(_id){\nconsole.log(_id)\nthis.$router.push({name:'articleDetails',query:{id:_id}})\n},\nloadMore(){\nthis.page++;\nthis.loading = true;\nthis.getArticleList(this.page,()=>{\nthis.loading = false;\n});\n},\nloadTop() {\n\nthis.page = 1;\nthis.getArticleList(this.page,()=>{\nthis.popupVisible = true;\nthis.$refs.loadmore.onTopLoaded();\nthis.more_state = 1;\nthis.loadMore();\n\nsetTimeout(()=>{\nthis.popupVisible = false;\n},2000);\n},true)\n}\n},\ncreated(){\nthis.getArticleList();\n},\ncomponents:{\nLoadmore,Popup,XHeader\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/index/article-list/article-list.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5630bcaa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vux-loader/src/style-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./article-list.vue\")\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5630bcaa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vux-loader/src/style-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./article-list.vue\")\n}\nvar Component = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../node_modules/vux-loader/src/script-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./article-list.vue\"),\n  /* template */\n  require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5630bcaa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../../node_modules/vux-loader/src/template-loader.js!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./article-list.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-5630bcaa\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/index/article-list/article-list.vue\n// module id = ElZl\n// module chunks = 58","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"bg-fff\",\n    attrs: {\n      \"id\": \"article-list\"\n    }\n  }, [_c('x-header', {\n    attrs: {\n      \"left-options\": {\n        backText: ''\n      }\n    }\n  }, [_vm._v(\"文章列表\")]), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"height\": \"100%\",\n      \"overflow\": \"scroll\"\n    }\n  }, [_c('mt-loadmore', {\n    ref: \"loadmore\",\n    attrs: {\n      \"top-method\": _vm.loadTop,\n      \"distanceIndex\": 5,\n      \"autoFill\": true,\n      \"topPullText\": \"↓ 下拉刷新\",\n      \"topDropText\": \"↑ 释放更新\",\n      \"topLoadingText\": \"正在加载 ...\",\n      \"topDistance\": 80\n    }\n  }, [_c('ul', {\n    directives: [{\n      name: \"infinite-scroll\",\n      rawName: \"v-infinite-scroll\",\n      value: (_vm.loadMore),\n      expression: \"loadMore\"\n    }],\n    staticClass: \"drgl-list\",\n    attrs: {\n      \"infinite-scroll-disabled\": \"loading\",\n      \"infinite-scroll-distance\": 50\n    }\n  }, _vm._l((_vm.drgl), function(item, index) {\n    return _c('li', {\n      key: index\n    }, [_c('div', {\n      staticClass: \"flex\",\n      on: {\n        \"click\": function($event) {\n          _vm.article_target(item.id)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"drgl-content\"\n    }, [_c('h4', {\n      staticClass: \"c-333\"\n    }, [_vm._v(_vm._s(item.title))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"flex drgl-content-item c-888\"\n    }, [_c('div', [_vm._v(_vm._s(item.views) + \"阅读\")]), _vm._v(\" \"), _c('div', [_vm._v(_vm._s(_vm.moment(item.update_time * 1000).format('YYYY-MM-DD')))])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"degl-img c-ter lazy-c bg-f5\"\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (_vm.imgUrl + item.photo),\n        expression: \"imgUrl+item.photo\"\n      }],\n      attrs: {\n        \"alt\": \"\"\n      }\n    })])])])\n  })), _vm._v(\" \"), _c('p', {\n    staticClass: \"page-infinite-loading\"\n  }, [(_vm.more_state == 1) ? _c('span', [_c('mt-spinner', {\n    attrs: {\n      \"type\": \"fading-circle\"\n    }\n  }), _vm._v(\"\\n\\t\\t      \\t    加载中...\\n                \")], 1) : _vm._e(), _vm._v(\" \"), (_vm.more_state == 2) ? _c('span', [_vm._v(\"暂无更多数据\")]) : _vm._e()])])], 1), _vm._v(\" \"), _c('popup', {\n    attrs: {\n      \"modal\": \"true\",\n      \"position\": \"top\"\n    },\n    model: {\n      value: (_vm.popupVisible),\n      callback: function($$v) {\n        _vm.popupVisible = $$v\n      },\n      expression: \"popupVisible\"\n    }\n  }, [_vm._v(_vm._s(this.reloadState == 1 ? \"更新成功\" : this.reloadState == 2 ? \"更新失败\" : this.reloadState == 3 ? \"请求出错\" : \"\"))])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5630bcaa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/index/article-list/article-list.vue\n// module id = pi7C\n// module chunks = 58"],"sourceRoot":""}