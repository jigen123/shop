webpackJsonp([49],{"/ZEt":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),n=s.n(a),i=s("ABCa"),o=s.n(i),r=s("kNDc"),c=s.n(r),u=s("LgOF"),l=s.n(u),h=s("2sLL"),d=s.n(h),f=s("QTi7"),v=s.n(f);e.default={name:"taskDate",data:function(){return{start:this.$route.query.start,end:this.$route.query.end,dates:[],value:this.$route.query.value&&JSON.parse(this.$route.query.value)||[],chooseTxt:"全选"}},components:{XHeader:o.a,Grid:c.a,GridItem:l.a,XButton:d.a,Box:v.a},created:function(){this.dates=this.rangeArray(this.start,this.end),console.log(this.dates,"created")},mounted:function(){console.log(this.value,"mounted")},methods:{rangeArray:function(t,e){var s=this.dayDiff(t,e),a=this.$moment(t);return Array(s-1).fill(0).map(function(t){return a.add(1,"days").format("YYYY/MM/DD")})},check:function(t){this.value.indexOf(t)>-1?this.value=this.value.filter(function(e){return e!==t}):this.value.push(t)},chooseAll:function(t){this.value.length==this.dates.length?(this.value=[],this.chooseTxt="全选"):(this.value=this.dates,this.chooseTxt="全不选")},confirm:function(){if(this.value.length<1)return mui.toast("请选择日期");var t=this.$route.query;t.value=n()(this.value),console.log(t),this.$router.replace({path:"/kbb/newTask",query:t})},dayDiff:function(t,e){return console.log(t,e),this.$moment(e).diff(this.$moment(t),"days")},getDate:function(t){if(t)return t.split("/")[2]}},watch:{}}},"2owx":function(t,e){},"8wrj":function(t,e,s){var a=s("VU/8")(s("/ZEt"),s("z7pX"),function(t){s("2owx"),s("dQSa")},"data-v-a93dd824",null);t.exports=a.exports},dQSa:function(t,e){},z7pX:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"taskDate"}},[s("x-header",{attrs:{title:"任务日期","left-options":{backText:""}}},[s("span",{attrs:{slot:"right"},on:{click:function(e){t.chooseAll(t.dates)}},slot:"right"},[t._v(t._s(t.chooseTxt))])]),t._v(" "),s("div",{staticClass:"fixed-content"},[s("div",{staticClass:"date-bg"},[t.dates.length>0?s("grid",{staticClass:"grid-date",attrs:{cols:7}},t._l(t.dates,function(e,a){return s("grid-item",{key:a},[s("span",{staticClass:"grid-center",class:{checked:t.value.indexOf(e)>-1},on:{click:function(s){t.check(e)}}},[t._v(t._s(t.getDate(e)))])])})):t._e()],1),t._v(" "),s("div",{staticClass:"circle"}),t._v(" "),s("div",{staticClass:"choose-box"},[t._m(0),t._v(" "),t._l(t.value,function(e,a){return s("span",{key:a,staticClass:"choosed"},[t._v(t._s(t.getDate(e)))])})],2),t._v(" "),s("box",{attrs:{gap:"15px 15px"}},[s("x-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.confirm(e)}}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"title"},[e("span",{staticClass:"iconfont icon-richeng"}),this._v("  已设定日期")])}]}}});
//# sourceMappingURL=49.0d9a129b18b1af3d3bc3.js.map