webpackJsonp([76],{TGRO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("mvHQ"),n=i.n(r),o=i("ABCa"),a=i.n(o);t.default={name:"payweb",data:function(){return{view:null,url:"",target:"http://www.jcc027.com/api/payment/getCode?pay_code=weixinH5&order_id="+this.$route.query.linkto,pay_timer:null,error:!1,myaudio:""}},mounted:function(){var e=this,t=this;window.plus&&mui.plusReady(function(){e.myaudio=plus.audio.createPlayer("/static/audio/pulse.mp3")}),console.log(this.target),this.view=plus.webview.create(this.target,"webviewPay",{top:"67px",bottom:"0px"}),this.view.show(),this.view.onerror=function(){e.error=!0};var i=null;console.log("目标网址为："+this.target),this.view.addEventListener("progressChanged",function(r){if(100==r.progress){if(e.url=decodeURIComponent(plus.webview.getWebviewById("webviewPay").getURL()),i!==e.url){var o=new RegExp("^https://wx.tenpay.com/","i");if(console.log("当前网址为："+e.url,o),console.log(o.test(e.url)),o.test(e.url))try{t.$router.go(-1)}catch(e){console.log(n()(e))}}i=e.url}},!1)},methods:{clickButton:function(e){var t=this;this.view.canBack(function(e){!t.error&&e.canBack?t.view.back():t.$router.push("/index")})},getUrlvalues:function(e){for(var t=e.split("&"),i=null,r={},n=0;n<t.length;n++)r[(i=t[n].split("="))[0]]=i[1];return r},order_req:function(e,t){}},destroyed:function(){var e=this;this.view.close(),this.view.addEventListener("close",function(){e.view=null}),this.pay_timer&&(clearInterval(this.pay_timer),this.pay_timer=null)},components:{XHeader:a.a}}},bWgr:function(e,t,i){var r=i("VU/8")(i("TGRO"),i("faAw"),function(e){i("pp78")},"data-v-6a566986",null);e.exports=r.exports},faAw:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"payweb"}},[t("x-header",{staticClass:"fixed-top",attrs:{title:"支付","left-options":{backText:""}}})],1)},staticRenderFns:[]}},pp78:function(e,t){}});
//# sourceMappingURL=76.6624c8722fd24553746b.js.map