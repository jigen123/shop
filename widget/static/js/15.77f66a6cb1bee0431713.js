webpackJsonp([15],{"3gcm":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"webview",data:function(){return{view:null,url:"",error:!1}},destroyed:function(){var e=this;this.view.close(),this.view.addEventListener("close",function(){e.view=null})},methods:{clickButton:function(e){var t=this;this.view.canBack(function(e){!error&&e.canBack?t.view.back():t.$router.push("/index")})},getUrlvalues:function(e){for(var t=e.split("&"),i=null,s={},n=0;n<t.length;n++)s[(i=t[n].split("="))[0]]=i[1];return s}},mounted:function(){for(var e=this,t=hex_md5("byzk_shop_zl"+this.$store.state.loginModule.appid||"0"),i=plus.webview.all(),s=plus.webview.currentWebview().id,n=0,r=i.length;n<r;n++)i[n].id!==s&&i[n].close();this.view=plus.webview.create(this.baseUrl+this.target+"?appid="+t,"webviewMy",{top:"75px",bottom:"0px"}),console.log(this.$store.state.loginModule.appid),this.view.show(),this.view.onerror=function(){e.error=!0},this.view.addEventListener("progressChanged",function(t){if(100==t.progress){var i=plus.webview.getWebviewById("webviewMy").getURL();if(/Mobile\/index\/index/i.test(i)||"https://app.zlkgsy.com"==i||"https://app.zlkgsy.com/"==i||"https://m.zlkgsy.com"==i||"https://m.zlkgsy.com/"==i)e.$router.push("/index");else if(/Mobile\/User\/login/i.test(i))e.$router.push("/login");else if(/mobile\/User\/reg/i.test(i))e.$router.push("/register");else if(/mobile\/User\/index/i.test(i))e.$router.push("/my");else if(/Mobile\/Outlinestore\/callPayCode/i.test(i)){var s=e.getUrlvalues(i.split("?")[1]);e.$router.push({path:"/scanning",query:s})}else if(/Mobile\/Outlinestore\/callComment/i.test(i)){var n=e.getUrlvalues(i.split("?")[1]),r=n.store_id,a=n.order_sn;e.$router.push({path:"/evaluate",query:{store_id:r,order_sn:a}})}else if(/Mobile\/Outlinestore\/callStore/i.test(i)){var o=e.getUrlvalues(i.split("?")[1]).store_id;e.$router.push({path:"/details",query:{store_id:o}})}else console.log("没有匹配的地址");console.log("当前页面URL："+plus.webview.getWebviewById("webviewMy").getURL())}},!1)},props:["target","appid","title"]}},"8kRf":function(e,t,i){var s=i("VU/8")(i("3gcm"),i("S450"),function(e){i("XxH0")},"data-v-795eed7c",null);e.exports=s.exports},BTfT:function(e,t,i){var s=i("VU/8")(i("pN3T"),i("axlE"),function(e){i("TaFm")},"data-v-a3d0788e",null);e.exports=s.exports},S450:function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"webview"}})},staticRenderFns:[]}},TaFm:function(e,t){},V2G1:function(e,t,i){e.exports=i.p+"static/img/yaoqing.64ad85c.png"},XxH0:function(e,t){},axlE:function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrap bg-f0",attrs:{id:"credit_circle"}},[i("i-header",{attrs:{title:e.title,is_r:e.back,share:!0},on:{shares:e.shareHrefs}}),e._v(" "),i("div",{staticClass:"main"},[e._m(0),e._v(" "),i("div",{staticClass:"card-self"},[e._m(1),e._v(" "),i("h6",[e._v("长按保存二维码分享给好友")]),e._v(" "),i("h5",[i("span",{staticClass:"yqm"},[e._v("专属邀请码")]),i("span",{staticClass:"tel"},[e._v(e._s(e.users.mobile))])]),e._v(" "),e._m(2)])]),e._v(" "),i("ul",{staticClass:"footer"},e._l(e.sharelist,function(t,s){return i("li",{key:s,on:{click:function(i){e.shareHref(t.type)}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":t.icon}})]),e._v(" "),i("span",[e._v(e._s(t.name))])])}))],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"banner-img"},[t("img",{attrs:{src:i("V2G1"),alt:"",width:"100%"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("i",{staticClass:"imgwrap"},[t("img",{attrs:{src:i("hMRt"),alt:""}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("p",[e._v("1.分享APP给好友")]),e._v(" "),i("p",[e._v("2.好友进行注册时，填写您的邀请码")]),e._v(" "),i("p",[e._v("3.好友注册后，您将获得金币奖励")])])}]}},hMRt:function(e,t,i){e.exports=i.p+"static/img/erweima.9c149ff.png"},pN3T:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("bOdI"),n=i.n(s),r=i("mvHQ"),a=i.n(r),o=i("y3MK"),c=i.n(o),l=i("8kRf"),u=i.n(l);t.default={name:"credit_circle",data:function(){return{users:localStorage.getItem("users")?JSON.parse(localStorage.getItem("users")):"",title:"我的邀请码",back:!0,sharelist:[{icon:"#icon-weixin",name:"微信",type:"weixin"},{icon:"#icon-pengyouquan",name:"朋友圈",type:"weixinFriend"},{icon:"#icon-qq",name:"QQ",type:"qq"},{icon:"#icon-xinlangweibo",name:"新浪微博",type:"sinaweibo"},{icon:"#icon-tengxunweibo-copy",name:"腾讯微博",type:"tencentweibo"}],shares:{},s:[]}},components:{iHeader:c.a,mycenterWeb:u.a},mounted:function(){var e=this;mui.plusReady(function(){e.updateSerivces()})},methods:{shareHref:function(e){switch(e){case"weixin":this.shareMessage(this.shares.weixin,"WXSceneSession");break;case"weixinFriend":this.shareMessage(this.shares.weixin,"WXSceneTimeline");break;case"qq":this.shareMessage(this.shares.qq);break;case"tencentweibo":this.shareMessage(this.shares.tencentweibo);break;default:this.shareMessage(this.shares.sinaweibo)}},updateSerivces:function(){var e=this;plus.share.getServices(function(t){console.log(a()(t),a()(e.shares)),e.s=t;for(var i in t){var s=t[i];e.shares[s.id]=s}e.outSet("获取分享服务列表成功")},function(e){this.outSet("获取分享服务列表失败："+e.message)})},shareHrefs:function(){var e=this,t=[{id:"weixin",ex:"WXSceneSession"},{id:"weixin",ex:"WXSceneTimeline"},{id:"qq"},{id:"sinaweibo"},{id:"tencentweibo"}];plus.nativeUI.actionSheet({cancel:"取消",buttons:[{title:"发送给微信好友"},{title:"分享到微信朋友圈"},{title:"分享到QQ"},{title:"分享到新浪微博"},{title:"分享到腾讯微博"}]},function(i){var s=i.index;s>0&&e.shareAction(t[s-1].id,t[s-1].ex)})},shareAction:function(e,t){this.outSet("分享操作：",e),e?e.authenticated?(this.outLine("---已授权---"),this.shareMessage(e,t)):(this.outLine("---未授权---"),e.authorize(function(){this.shareMessage(e,t)},function(e){this.outLine("认证授权失败："+e.code+" - "+e.message)})):this.outLine("无效的分享服务！")},shareMessage:function(e,t){var i;console.log("444",a()(e));var s=(i={content:"分享-详情",href:"http://www.kbbabc.com/api/my_invite/show_register?invite_code="+this.users.mobile,title:"金灿灿开始赚钱了,不来就OUT了"},n()(i,"content","推荐使用金灿灿app,下载金灿灿让你有花不完的钱"),n()(i,"thumbs",["http://jcc.tw186.com/uploads/img/index.png"]),n()(i,"pictures",["http://jcc.tw186.com/uploads/img/index.png"]),n()(i,"extra",{scene:t}),i);e.send(s,function(){mui.toast('分享到"'+e.description+'"成功！ ')},function(t){mui.toast('分享到"'+e.description+'"失败: '+t.code+" - "+t.message)})},outSet:function(e){console.log(e)},outLine:function(e){mui.toast(e)}}}}});
//# sourceMappingURL=15.77f66a6cb1bee0431713.js.map