{"version":3,"sources":["webpack:///./src/pages/home/kbb/paygold.vue","webpack:///./src/pages/home/kbb/paygold.vue?b2f6","webpack:///./src/pages/home/kbb/paygold.vue?cf8f"],"names":["__webpack_exports__","name","data","view","url","target","this","$route","query","linkto","pay_timer","error","myaudio","mounted","_this2","_this","window","plus","mui","plusReady","audio","createPlayer","console","log","webview","create","top","bottom","show","onerror","_url","addEventListener","e","progress","decodeURIComponent","getWebviewById","getURL","reg","RegExp","test","$router","go","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","methods","clickButton","_this3","canBack","back","push","getUrlvalues","r_data","split","key","newdata","k","length","order_req","paydata","store_id","destroyed","_this4","close","clearInterval","components","XHeader","__WEBPACK_IMPORTED_MODULE_1_vux_src_components_x_header_index_vue___default","a","Component","__webpack_require__","ssrContext","module","exports","render","_h","$createElement","_c","_self","attrs","id","staticClass","title","left-options","backText","staticRenderFns"],"mappings":"oJAGAA,EAAA,SACAC,KAAK,SACLC,KAFe,WAGf,OACAC,KAAK,KACLC,IAAI,GACJC,OAAO,wEAAwEC,KAAKC,OAAOC,MAAMC,OACjGC,UAAU,KACVC,OAAM,EACNC,QAAQ,KAGRC,QAZe,WAYN,IAAAC,EAAAR,KAELS,EAAQT,KACTU,OAAOC,MACVC,IAAIC,UAAU,WACdL,EAAKF,QAAUK,KAAKG,MAAMC,aAAa,6BAMvCC,QAAQC,IAAIjB,KAAKD,QAGjBC,KAAKH,KAAOc,KAAKO,QAAQC,OAAQnB,KAAKD,OAAQ,cAC9CqB,IAAI,OACJC,OAAO,QAEPrB,KAAKH,KAAKyB,OACVtB,KAAKH,KAAK0B,QAAU,WACpBf,EAAKH,OAAQ,GAGb,IAAImB,EAAO,KAEXR,QAAQC,IAAI,SAASjB,KAAKD,QAC1BC,KAAKH,KAAK4B,iBAAiB,kBAAmB,SAACC,GAC/C,GAAe,KAAZA,EAAEC,SAAe,CAEpB,GADAnB,EAAKV,IAAM8B,mBAAmBjB,KAAKO,QAAQW,eAAe,cAAcC,UACrEN,IAAOhB,EAAKV,IAAI,CAGnB,IACIiC,EAAM,IAAIC,OADE,0BACe,KAG/B,GAFAhB,QAAQC,IAAI,SAAST,EAAKV,IAAIiC,GAC9Bf,QAAQC,IAAIc,EAAIE,KAAKzB,EAAKV,MACvBiC,EAAIE,KAAKzB,EAAKV,KACjB,IACAW,EAAMyB,QAAQC,IAAI,GAgBhB,MAAO9B,GACTW,QAAQC,IAAImB,IAAe/B,KAI3BmB,EAAOhB,EAAKV,OAET,IAEHuC,SAEAC,YAFQ,SAEIZ,GAAE,IAAAa,EAAAvC,KACdA,KAAKH,KAAK2C,QAAQ,SAACd,IACfa,EAAKlC,OAASqB,EAAEc,QACpBD,EAAK1C,KAAK4C,OAEVF,EAAKL,QAAQQ,KAAK,aAIlBC,aAXQ,SAWK7C,GAGb,IAFA,IAAI8C,EAAS9C,EAAI+C,MAAM,KACnBC,EAAM,KAAKC,KACPC,EAAE,EAAEA,EAAEJ,EAAOK,OAAOD,IAE5BD,GADAD,EAAMF,EAAOI,GAAGH,MAAM,MACV,IAAMC,EAAI,GAEtB,OAAOC,GAEPG,UApBQ,SAoBEC,EAAQC,MAIlBC,UAnGe,WAmGJ,IAAAC,EAAAtD,KACXA,KAAKH,KAAK0D,QACVvD,KAAKH,KAAK4B,iBAAiB,QAAQ,WACnC6B,EAAKzD,KAAO,OAETG,KAAKI,YACRoD,cAAcxD,KAAKI,WACnBJ,KAAKI,UAAY,OAGjBqD,YACAC,QAAAC,EAAAC,0BC9GA,IAAAC,EAAAC,EAAA,OAAAA,CAEAA,EAAA,QAEAA,EAAA,QAPA,SAAAC,GACAD,EAAA,SAUA,kBAEA,MAGAE,EAAAC,QAAAJ,EAAAI,4BChBAD,EAAAC,SAAgBC,OAAA,WAAmB,IAAaC,EAAbnE,KAAaoE,eAA0BC,EAAvCrE,KAAuCsE,MAAAD,IAAAF,EAC1E,OAAAE,EAAA,OACAE,OACAC,GAAA,YAEGH,EAAA,YACHI,YAAA,YACAF,OACAG,MAAA,KACAC,gBACAC,SAAA,QAGG,IACFC","file":"static/js/76.6624c8722fd24553746b.js","sourcesContent":["\nimport XHeader from 'vux/src/components/x-header/index.vue'\n\nexport default {\nname:\"payweb\",\ndata(){\nreturn {\nview:null,\nurl:\"\",\ntarget:\"http://www.jcc027.com/api/payment/getCode?pay_code=weixinH5&order_id=\"+this.$route.query.linkto,\npay_timer:null,\nerror:false,\nmyaudio:'',\n}\n},\nmounted(){\nlet myaudio;\nlet _this = this;\nif(window.plus){\nmui.plusReady(()=>{\nthis.myaudio = plus.audio.createPlayer('/static/audio/pulse.mp3');\n})\n}\n\n\n\nconsole.log(this.target)\n\n\nthis.view = plus.webview.create( this.target, \"webviewPay\",{\ntop:\"67px\",\nbottom:'0px'\n});\nthis.view.show();\nthis.view.onerror = ()=>{\nthis.error = true\n}\n\nlet _url = null;\n\nconsole.log('目标网址为：'+this.target);\nthis.view.addEventListener('progressChanged', (e) => {\nif(e.progress==100 ){\nthis.url = decodeURIComponent(plus.webview.getWebviewById('webviewPay').getURL());\nif(_url!==this.url){\n\n\nlet check_url = \"^https://wx.tenpay.com/\";\nlet reg = new RegExp(check_url,'i');\nconsole.log('当前网址为：'+this.url,reg);\nconsole.log(reg.test(this.url))\nif(reg.test(this.url)){\ntry {\n_this.$router.go(-1);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n} catch (error) {\nconsole.log(JSON.stringify(error))\n}\n}\n}\n_url = this.url;\n}\n}, false);\n},\nmethods:{\n\nclickButton(e){\nthis.view.canBack((e)=>{\nif(!this.error && e.canBack) {\nthis.view.back();\n}else{\nthis.$router.push(\"/index\");\n}\n});\n},\ngetUrlvalues(url){\nlet r_data = url.split('&');\nlet key = null,newdata={};\nfor(let k=0;k<r_data.length;k++){\nkey = r_data[k].split('=');\nnewdata[key[0]] = key[1];\n}\nreturn newdata\n},\norder_req(paydata,store_id){\n\n}\n},\ndestroyed(){\nthis.view.close();\nthis.view.addEventListener('close',()=>{\nthis.view = null;\n});\nif(this.pay_timer){\nclearInterval(this.pay_timer);\nthis.pay_timer = null;\n}\n},\ncomponents: {\nXHeader\n}\n}\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/kbb/paygold.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a566986\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./paygold.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./paygold.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a566986\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./paygold.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-6a566986\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/kbb/paygold.vue\n// module id = bWgr\n// module chunks = 76","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"payweb\"\n    }\n  }, [_c('x-header', {\n    staticClass: \"fixed-top\",\n    attrs: {\n      \"title\": \"支付\",\n      \"left-options\": {\n        backText: ''\n      }\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a566986\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/kbb/paygold.vue\n// module id = faAw\n// module chunks = 76"],"sourceRoot":""}